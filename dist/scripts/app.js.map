{"version":3,"sources":["main.js","router.js","collections/actor-collection.js","models/actor-model.js","views/actor-collection-view.js","views/actor-item-view.js","views/modals.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["import Router from './router';\n\nvar App = Marionette.Application.extend({\n\tinitialize: function() {\n\t\tthis.router = new Router(this);\n\t},\n\tregions: {\n\t\t'main': '.app'\n\t}\n});\n\nvar app = new App();\n\napp.on('start', function() {\n\tif (Backbone.history) {\n\t\tBackbone.history.start();\n\t} else {\n\t\tconsole.log('no backbone router to start');\n\t}\n});\n\n$(document).ready(function(){\n\tapp.start();\n});","import ActorCollectionView from './views/actor-collection-view';\nimport {actorModel} from '../models/actor-model';\nimport {actorCollection} from '../collections/actor-collection';\n\nexport default Marionette.AppRouter.extend({\n\troutes: {\n\t\t'': 'index'\n\t},\n\n\tinitialize: function(app) {\n\t\tthis.app = app;\n\t},\n\n\tindex: function() {\n\t\tlet actorData = new actorCollection();\n\t\tactorData.fetch().then(function(data) {\n\t\t\tlet actorView = new ActorCollectionView({collection: actorData});\n\t\t\tthis.app.getRegion('main').show(actorView);\n\t\t}.bind(this));\n\t}\n});","import {actorModel} from '../models/actor-model';\n\nlet actorCollection = Backbone.Collection.extend({\n\t\n\tmodel: actorModel,\n\turl: 'https://nuvi-challenge.herokuapp.com/activities'\n\n});\n\nexport default {actorCollection};","const actorModel = Backbone.Model.extend({\n\n\tidAttribute: 'id',\n\turl: 'https://nuvi-challenge.herokuapp.com/activities',\n\tdefaults: {\n\t\tactor_username: '',\n\t\tactor_description: '',\n\t\tactor_name: '',\n\t\tactor_avatar: '',\n\t\tactor_url: '',\n\t\tprovider: '',\n\t\tactivity_url: '',\n\t\tactivity_longitude: null,\n\t\tactivity_latitude: null,\n\t\tactivity_date: '',\n\t\tactivity_message: '',\n\t\tactivity_likes: 0,\n\t\tactivity_shares: 0,\n\t\tactivity_comments: 0,\n\t\tactivity_attachment: null,\n\t\tactivity_attachment_type: null,\n\t\tactivity_sentiment: 0\n\t}\n});\n\nexport default {actorModel};","import {actorModel} from '../models/actor-model';\nimport {actorCollection} from '../collections/actor-collection';\nimport actorItemView from './actor-item-view';\n\nexport default Marionette.CompositeView.extend({\n\ttemplate: 'actor-collection-view.dust',\n\tchildView: actorItemView,\n\tchildViewContainer: '.row > ul',\n\tevents: {\n\t\t'click .page-num': 'changePage'\n\t},\n\tinitialize: function() {\n\t\tthis.originalCollection = this.collection;\n\t},\n\tfilter: function (child, index, collection) {\n      return index > this.selectedIndices && index < this.selectedIndices + 25;\n    },\n    templateHelpers: function() {\n    \tlet pageNums = Math.ceil(this.originalCollection.models.length/25) || 0;\n    \treturn {\n    \t\tbeginningIndex: this.selectedIndices + 1,\n    \t\tendingIndex: this.selectedIndices + 25,\n    \t\tpages: new Array(pageNums)\n    \t}\n    },\n    changePage: function(e) {\n    \te.preventDefault();\n    \tlet targetPage = e && e.target && e.target.id || 0;\n    \tthis.selectedIndices = targetPage * 25;\n    \tthis.render();\n    },\n    selectedIndices: 0\n});","import ModalView from './modals';\n\nexport default Marionette.ItemView.extend({\n\n\ttemplate: 'actor-item-view.dust',\n\ttagName: 'li',\n\tevents: {\n\t\t'click .trigger-modal': 'openModal',\n\t\t'click .fa-heart': 'unLikePost',\n\t\t'click .fa-heart-o': 'likePost',\n\t\t'submit form': 'submitComment'\n\t},\n\tui: {\n\t\t'likeLink': '.like-link' \n\t},\n\tinitialize: function() {\n\t\tthis.listenTo(this.model, 'change', this.render);\n\t\tif (!this.model.get('liked')) {\n\t\t\tthis.model.set('liked', false);\n\t\t}\n\t\tconst eventsChannel = Backbone.Radio.channel('eventsChannel');\n\t\tthis.listenTo(eventsChannel, 'shared:post', this.sharedPost);\n\t},\n\tonShow: function() {\n\t\teventDelegation: {\n\n\t\t}\n\t},\n\ttemplateHelpers: function() {\n\t\tlet date = this.model.get('activity_date').split('');\n\t\tlet temp = date.splice(0,4);\n\t\ttemp.unshift('-');\n\t\tdate.shift('-');\n\t\tdate = date.concat(temp);\n\t\treturn {\n\t\t\tdate: date.join('')\n\t\t}\n\t},\n\tlikePost: function(e) {\n\t\te.preventDefault();\n\t\t!this.model.get('liked') ? this.model.set('activity_likes', this.model.get('activity_likes') + 1) && this.model.set('liked', true) : this.model.set('activity_likes', this.model.get('activity_likes') - 1) && this.model.set('liked', false);\n\t\tthis.$('.fa-heart-o').addClass('fa-heart');\n\t\tthis.$('.fa-heart-o').removeClass('fa-heart-o');\n\t},\n\tunLikePost: function(e) {\n\t\te.preventDefault();\n\t\t!this.model.get('liked') ? this.model.set('activity_likes', this.model.get('activity_likes') + 1) && this.model.set('liked', true) : this.model.set('activity_likes', this.model.get('activity_likes') - 1) && this.model.set('liked', false);\n\t\tthis.$('.fa-heart').addClass('fa-heart-o');\n\t\tthis.$('.fa-heart').removeClass('fa-heart');\n\t},\n\tsubmitComment: function(e) {\n\t\te.preventDefault();\n\t\tif (this.$('textarea').val()) {\n\t\t\tthis.model.set('activity_comments', this.model.get('activity_comments') + 1);\n\t\t}\n\t},\n\topenModal: function(e) {\n\t\te.preventDefault();\n\t\tthis.modalView = new ModalView({model: this.model});\n\t\tthis.modalView.render();\n\t\t$('body').append(this.modalView.el);\n\t\t$('#modal' + this.model.get('id')).openModal();\n\t\t\n\t},\n\tsharedPost: function() {\n\t\tthis.model.set('activity_shares', this.model.get('activity_shares') + 1);\n\t}\n\n});\n\n","export default Marionette.ItemView.extend({\n\n\ttemplate: 'modal.dust',\n\tclassName: 'modal-container',\n\tevents: {\n\t\t'click .cancel-share': 'modalDestroy',\n\t\t'click .more-inputs': 'moreInputs',\n\t\t'click .share-post': 'sharePost'\n\t},\n\tinitialize: function() {\n\t\t\n\t},\n\tmodalDestroy: function(e) {\n\t\te && e.preventDefault();\n\t\t$('#modal' + this.model.get('id')).closeModal();\n\t\tthis.destroy();\n\t},\n\tsharePost: function(e) {\n\t\te.preventDefault();\n\t\tlet isValid = true;\n\t\tif (this.checkValidation()) {\n\t\t\tBackbone.Radio.trigger('eventsChannel', 'shared:post');\n\t\t\tthis.modalDestroy();\n\t\t}\n\t},\n\tmoreInputs: function(e) {\n\t\te.preventDefault();\n\t\t$('#modal' + this.model.get('id') + ' .input-field').append('<input class=\"validate\" type=\"email\" id=\"emailInput\" required>');\n\t},\n\tcheckValidation: function() {\n\t\tlet isValid = true;\n\t\t$('#emailInput').each(function(idx, val) {\n\t\t\tlet emailVal = $(val).val();\n\t\t\temailVal && emailVal.indexOf('@') > -1 && emailVal.indexOf('.') > -1 ? null : isValid = false;\n\t\t});\n\t\treturn isValid;\n\t}\n\n});"],"sourceRoot":"/source/"}